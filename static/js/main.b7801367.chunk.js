(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(e,t,i){},8:function(e,t,i){"use strict";i.r(t);var n=i(2),s=i(3),a=i(5),r=i(4),o=i(0),h=i(1),l=i.n(h),u=i(7),c=i.n(u),d=(i(14),function(e){Object(a.a)(i,e);var t=Object(r.a)(i);function i(){return Object(n.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"cellValue",value:function(){return this.props.value.isRevealed?this.props.value.isMine?"\ud83d\udca5":0===this.props.value.neighbouringMines?null:this.props.value.neighbouringMines:this.props.value.isFlagged?"\ud83c\udfc1":null}},{key:"render",value:function(){var e="cell"+(this.props.value.isRevealed?"":"-hidden");return Object(o.jsx)("button",{className:e,onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,children:this.cellValue()})}}]),i}(l.a.Component)),p=function(e){Object(a.a)(i,e);var t=Object(r.a)(i);function i(e){var s;return Object(n.a)(this,i),(s=t.call(this,e)).state={boardData:s.initialiseBoard(s.props.height,s.props.width,s.props.mines),gameWon:!1},s}return Object(s.a)(i,[{key:"initialiseBoard",value:function(e,t,i){for(var n=[],s=0;s<e;s++){n.push([]);for(var a=0;a<t;a++)n[s][a]={x:s,y:a,isMine:!1,neighbouringMines:0,isFlagged:!1,isRevealed:!1}}return n=this.setMines(n,i),n=this.findNeighbouringMines(n)}},{key:"setMines",value:function(e,t){for(var i=0,n=0,s=0;s<t;)i=Math.floor(Math.random()*this.props.width),e[n=Math.floor(Math.random()*this.props.height)][i].isMine||(e[n][i].isMine=!0,s++);return e}},{key:"findNeighbouringMines",value:function(e){for(var t=0;t<this.props.height;t++)for(var i=0;i<this.props.width;i++)if(!e[t][i].isMine){for(var n=0,s=this.neighbouringCells(e[t][i].x,e[t][i].y,e),a=0;a<s.length;a++)s[a].isMine&&n++;e[t][i].neighbouringMines=n}return e}},{key:"neighbouringCells",value:function(e,t,i){var n=[],s=this.props.height,a=this.props.width;return e>0&&n.push(i[e-1][t]),e>0&&t>0&&n.push(i[e-1][t-1]),t>0&&n.push(i[e][t-1]),e<a-1&&t>0&&n.push(i[e+1][t-1]),e<a-1&&n.push(i[e+1][t]),e<a-1&&t<s-1&&n.push(i[e+1][t+1]),t<s-1&&n.push(i[e][t+1]),e>0&&t<s-1&&n.push(i[e-1][t+1]),n}},{key:"revealBoard",value:function(){for(var e=this.state.boardData,t=0;t<this.props.height;t++)for(var i=0;i<this.props.width;i++)e[t][i].isRevealed||(e[t][i].isRevealed=!0);this.setState({boardData:e})}},{key:"revealNeighbours",value:function(e,t,i){var n=this;return this.neighbouringCells(e,t,i).map((function(e){e.isRevealed||e.isMine||(i[e.x][e.y].isRevealed=!0,0===e.neighbouringMines&&n.revealNeighbours(e.x,e.y,i))})),i}},{key:"countHiddenCells",value:function(e){for(var t=0,i=0;i<this.props.height;i++)for(var n=0;n<this.props.width;n++)e[i][n].isRevealed||t++;return t}},{key:"handleClick",value:function(e,t){if(this.state.boardData[e][t].isRevealed)return null;this.state.boardData[e][t].isMine&&this.revealBoard();var i=this.state.boardData;0!==this.state.boardData[e][t].neighbouringMines&&(i[e][t].isRevealed=!0),0===this.state.boardData[e][t].neighbouringMines&&(i=this.revealNeighbours(e,t,i));var n=!1;this.countHiddenCells(i)===this.props.mines&&(this.revealBoard(),n=!0),this.setState({boardData:i,gameWon:n})}},{key:"handleRightClick",value:function(e,t,i){e.preventDefault();var n=this.state.boardData;n[t][i].isRevealed||(n[t][i].isFlagged?n[t][i].isFlagged=!1:n[t][i].isFlagged=!0,this.setState({boardData:n}))}},{key:"renderBoard",value:function(e){var t=this;return e.map((function(e){return e.map((function(i){return Object(o.jsxs)("div",{children:[Object(o.jsx)(d,{value:i,onClick:function(){return t.handleClick(i.x,i.y)},onContextMenu:function(e){return t.handleRightClick(e,i.x,i.y)}}),e[e.length-1]===i?Object(o.jsx)("div",{className:"board-row"}):""]})}))}))}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"board",children:[Object(o.jsx)("div",{className:"status-info",children:Object(o.jsx)("p",{children:this.state.gameWon?"You won!":"Keep searching...."})}),Object(o.jsx)("div",{children:this.renderBoard(this.state.boardData)})]})}}]),i}(l.a.Component),v=function(e){Object(a.a)(i,e);var t=Object(r.a)(i);function i(e){var s;return Object(n.a)(this,i),(s=t.call(this,e)).state={height:11,width:11,mines:15},s}return Object(s.a)(i,[{key:"render",value:function(){var e=this.state,t=e.height,i=e.width,n=e.mines;return Object(o.jsxs)("div",{className:"game",children:[Object(o.jsx)("h1",{children:"Minesweeper Game!"}),Object(o.jsx)("p",{children:"Left-click to reveal cells - don't hit the mines!"}),Object(o.jsx)("p",{children:"Numbers in revealed cells show how many mines are next to that cell"}),Object(o.jsx)("p",{children:"Right click to add/remove flags"}),Object(o.jsxs)("p",{children:["Number of mines in the board: ",n]}),Object(o.jsx)("div",{className:"game-board",children:Object(o.jsx)(p,{height:t,width:i,mines:n})})]})}}]),i}(l.a.Component);c.a.render(Object(o.jsx)(v,{}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.b7801367.chunk.js.map